<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Arcane Templates Registry</title>
    <meta name="color-scheme" content="dark light" />
    <style>
      :root {
        /* Arcane purple */
        --arcane-purple: oklch(0.606 0.25 292.717);
        --purple-1: oklch(0.68 0.25 292.717);
        --purple-2: oklch(0.42 0.2 292.717);
        --bg-deep: oklch(0.14 0 0);
        --text: oklch(0.97 0 0);
        --muted: oklch(0.8 0 0 / 0.75);
        --card: oklch(0.2 0.01 292.717 / 0.6);
        --card-border: oklch(0.4 0.03 292.717 / 0.35);
        --input-bg: oklch(0.18 0.02 292.717 / 0.6);
        --input-border: oklch(0.38 0.03 292.717 / 0.5);
        --shadow: 0 10px 30px oklch(0.3 0.06 292.717 / 0.35);
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        color: var(--text);
        font: 16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial,
          'Apple Color Emoji', 'Segoe UI Emoji';
        /* Layered gradient with Arcane purple */
        background: radial-gradient(1200px 800px at 15% 10%, var(--purple-1), transparent 60%),
          radial-gradient(900px 700px at 85% 90%, var(--arcane-purple), transparent 55%),
          linear-gradient(135deg, var(--bg-deep), var(--purple-2));
        min-height: 100%;
        display: grid;
        place-items: center;
      }

      .wrap {
        width: min(760px, 92vw);
        padding: 2.25rem;
        border-radius: 20px;
        background: var(--card);
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow);
        backdrop-filter: saturate(130%) blur(8px);
      }

      h1 {
        margin: 0 0 0.25rem 0;
        font-size: clamp(1.6rem, 2.6vw + 1rem, 2.25rem);
        font-weight: 750;
        letter-spacing: 0.2px;
      }

      p.sub {
        margin: 0 0 1.5rem 0;
        color: var(--muted);
      }

      .row {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 0.75rem;
        align-items: center;
      }

      .input {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.85rem 1rem;
        border-radius: 12px;
        background: var(--input-bg);
        border: 1px solid var(--input-border);
        color: var(--text);
        overflow: hidden;
      }

      .input input {
        appearance: none;
        background: transparent;
        border: 0;
        outline: none;
        color: inherit;
        width: 100%;
        font: inherit;
      }

      .btn {
        appearance: none;
        border: 0;
        outline: none;
        padding: 0.8rem 1rem;
        border-radius: 12px;
        background: color-mix(in oklab, var(--arcane-purple) 90%, white 10%);
        color: white;
        font-weight: 650;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: transform 120ms ease, filter 120ms ease;
      }

      .btn:hover {
        filter: brightness(1.05);
      }
      .btn:active {
        transform: translateY(1px);
      }

      .status {
        height: 1.5rem;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        font-size: 0.95rem;
        color: var(--muted);
        margin-top: 0.75rem;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.35rem 0.6rem;
        border-radius: 999px;
        border: 1px solid var(--input-border);
        background: oklch(0.2 0.02 292.717 / 0.5);
        color: var(--muted);
        font-size: 0.85rem;
      }

      .footer {
        margin-top: 1.25rem;
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        align-items: center;
        color: var(--muted);
      }

      a {
        color: inherit;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="module">
      import * as React from 'https://esm.sh/react@18.3.1';
      import { createRoot } from 'https://esm.sh/react-dom@18.3.1/client';

      function CopyIcon(props) {
        return React.createElement(
          'svg',
          { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', xmlns: 'http://www.w3.org/2000/svg', ...props },
          React.createElement('path', {
            d: 'M9 9.75C9 8.784 9.784 8 10.75 8h7.5C19.216 8 20 8.784 20 9.75v7.5A1.75 1.75 0 0 1 18.25 19h-7.5A1.75 1.75 0 0 1 9 17.25v-7.5Z',
            stroke: 'currentColor',
            strokeWidth: 1.5,
          }),
          React.createElement('path', {
            d: 'M6 15.5h-.75A1.75 1.75 0 0 1 3.5 13.75v-7.5A1.75 1.75 0 0 1 5.25 4.5h7.5A1.75 1.75 0 0 1 14.5 6.25V7',
            stroke: 'currentColor',
            strokeWidth: 1.5,
            strokeLinecap: 'round',
          })
        );
      }

      function CheckIcon(props) {
        return React.createElement(
          'svg',
          { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', xmlns: 'http://www.w3.org/2000/svg', ...props },
          React.createElement('path', {
            d: 'M20 7 9.5 17.5 4 12',
            stroke: 'currentColor',
            strokeWidth: 2,
            strokeLinecap: 'round',
            strokeLinejoin: 'round',
          })
        );
      }

      function App() {
        const registryUrl = React.useMemo(() => `${location.origin}/registry.json`, []);
        const [copied, setCopied] = React.useState(false);

        const onCopy = async () => {
          try {
            await navigator.clipboard.writeText(registryUrl);
            setCopied(true);
            setTimeout(() => setCopied(false), 1500);
          } catch (_) {
            const ta = document.createElement('textarea');
            ta.value = registryUrl;
            ta.style.position = 'fixed';
            ta.style.opacity = '0';
            document.body.appendChild(ta);
            ta.select();
            try {
              document.execCommand('copy');
            } catch {}
            document.body.removeChild(ta);
            setCopied(true);
            setTimeout(() => setCopied(false), 1500);
          }
        };

        return React.createElement(
          'main',
          { className: 'wrap', role: 'main' },
          React.createElement('h1', null, 'Arcane Templates Registry'),
          React.createElement('p', { className: 'sub' }, 'Copy the dynamic registry URL for this deployment.'),
          React.createElement(
            'div',
            { className: 'row' },
            React.createElement(
              'label',
              { className: 'input', htmlFor: 'registry' },
              React.createElement('span', { className: 'badge', style: { marginRight: '.25rem' } }, 'URL'),
              React.createElement('input', {
                id: 'registry',
                type: 'text',
                readOnly: true,
                value: registryUrl,
                onFocus: (e) => e.target.select(),
                'aria-label': 'Registry URL',
              })
            ),
            React.createElement(
              'button',
              { className: 'btn', onClick: onCopy, type: 'button', 'aria-live': 'polite' },
              copied ? React.createElement(CheckIcon, null) : React.createElement(CopyIcon, null),
              copied ? 'Copied' : 'Copy'
            )
          ),
          React.createElement(
            'div',
            { className: 'footer' },
            React.createElement('span', { className: 'badge' }, 'registry.json'),
            React.createElement('a', { href: registryUrl, target: '_blank', rel: 'noopener noreferrer' }, 'Open')
          )
        );
      }

      const root = createRoot(document.getElementById('root'));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
